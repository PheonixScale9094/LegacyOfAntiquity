#Oligarchy vs Merchant Class vs Noble Elite
merchant_elite_reform = {
	icon = "trading_city"
	allow_normal_conversion = yes
	modifiers = {
		max_absolutism = -60
		merchants = 1
		inflation_reduction = 0.05
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 40
	legacy_equivalent = merchant_republic
	potential = {
		NOT = { map_setup = map_setup_random }
	}
	boost_income = yes
	factions = {
		br_great_houses
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = no
		enables_aristocratic_idea_group = yes
		is_merchant_republic = yes
	}
	duration = 12
}

corporation_reform = {
	icon = "compass"
	allow_normal_conversion = no
	modifiers = {
		max_absolutism = -20
		global_trade_power = 0.10
		global_foreign_trade_power = 0.25
		global_tax_modifier = -0.10
		merchants = 1
		vassal_income = 0.2
		liberty_desire_from_subject_development = -0.15
		liberty_desire = -15
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 40
	legacy_equivalent = oligarchic_republic
	potential = {
		has_reform = corporation_reform
	}
	boost_income = yes
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	factions = {
		mr_traders
		mr_guilds
	}
	duration = 6
}

branch_office = {
	icon = "trading_city"
	allow_normal_conversion = no
	potential = {
		is_vassal = yes
	}
	valid_for_nation_designer = no
	legacy_equivalent = trading_city_legacy
	boost_income = yes
	lock_level_when_selected = yes
	is_trading_city = yes
	factions = {
		mr_traders
		mr_guilds
	}
	modifiers = {
		max_absolutism = -20
		global_trade_power = 0.2
		max_absolutism = -20
		liberty_desire_from_subject_development = -0.25
		liberty_desire = -30
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}

	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = corporation_reform # For trade cities this is their fallback government if they get more than 1 provinces
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = corporation_reform # For trade cities this is their fallback government if they get more than 1 provinces
	}
	duration = 4
}

